# git関連 (alias版)
### git rebase | git merge
- regexp-left: ^(?P<body>(grb|g(it)? merge)) +(?P<query>.*)$
  cmd-groups:
    - stmt: git branch --format="%(refname:short)" --all 2>/dev/null
      after: awk '{print $0}'
  fuzzy-finder-cmd: fzf -0 -1 --ansi -q "<query>" --preview='git log --oneline --graph --decorate --color -n20 {}'
  buffer-left: "<body> "
  buffer-right: "[]"

### git switch (-a つけたらリモートも表示 (-all))
- regexp-left: ^(?P<body>gsw) +-a
  cmd-groups:
    - stmt: git branch --format="%(refname:short)" --all 2>/dev/null
      after: awk '{print $0}' | sed -e "s|^origin/||"
  fuzzy-finder-cmd: fzf -0 -1 --ansi --preview='git log --oneline --graph --decorate --color -n20 {}'
  buffer-left: "<body> "
  buffer-right: "[]"
- regexp-left: ^(?P<body>gsw) +(?P<query>.*)$
  cmd-groups:
    - stmt: git branch --format="%(refname:short)" 2>/dev/null
      after: awk '{print $0}' | sed -e "s|^origin/||"
  fuzzy-finder-cmd: fzf -0 -1 --ansi -q "<query>" --preview='git log --oneline --graph --decorate --color -n20 {}'
  buffer-left: "<body> "
  buffer-right: "[]"

### git push | git branch -d
- regexp-left: ^(?P<body>(g(it)? push [^ ]+|gp|gb -(d|D))) +(?P<query>.*)$
  cmd-groups:
    - stmt: git branch --format="%(refname:short)" 2>/dev/null
      after: awk '{print $0}'
  fuzzy-finder-cmd: fzf -0 -1 --ansi -q "<query>" --preview='git log --oneline --graph --decorate --color -n20 {}'
  buffer-left: "<body> "
  buffer-right: "[]"

# ファイル検索
- regexp-left: ^(?P<body>.*?)(?P<path>~{0,1}([0-9A-Za-z_\-.]*/)+)?(?P<query>[0-9A-Za-z_\-.]*)$
  cmd-groups:
    - stmt: fd -d 8 -H -I -i -E ".git" -p "<query>" -c "always" <path> 2>/dev/null
      after: tr '\n' ' ' | sed -e 's/ *$//'
  fuzzy-finder-cmd: fzf -0 -1 -m --ansi --preview 'if [ -d {1} ]; then ls -la --color="always" {1}; else bat --color="always" --line-range :100 {1}; fi'
  buffer-left: "<body>"
  buffer-right: "[]"
